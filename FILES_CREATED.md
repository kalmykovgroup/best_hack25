# –°–ø–∏—Å–æ–∫ —Å–æ–∑–¥–∞–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤

## C# Backend (api/)

### DTOs –¥–ª—è WebSocket
```
api/Models/WebSocket/
‚îú‚îÄ‚îÄ GeocodeRequest.cs           ‚úÖ –ó–∞–ø—Ä–æ—Å –æ—Ç React (requestId, query, limit)
‚îú‚îÄ‚îÄ GeocodeResponse.cs          ‚úÖ –û—Ç–≤–µ—Ç —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏
‚îú‚îÄ‚îÄ GeoObjectResponse.cs        ‚úÖ –ì–µ–æ–æ–±—ä–µ–∫—Ç (–∞–¥—Ä–µ—Å + –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã)
‚îú‚îÄ‚îÄ SearchProgress.cs           ‚úÖ –ü—Ä–æ–≥—Ä–µ—Å—Å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
‚îî‚îÄ‚îÄ CancelSearchRequest.cs      ‚úÖ –ó–∞–ø—Ä–æ—Å –Ω–∞ –æ—Ç–º–µ–Ω—É
```

### SignalR Hub
```
api/Hubs/
‚îî‚îÄ‚îÄ GeocodeHub.cs               ‚úÖ WebSocket Hub —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –æ—Ç–º–µ–Ω—ã
    - SearchAddress(GeocodeRequest)
    - CancelSearch(CancelSearchRequest)
```

### REST/SSE Controller
```
api/Controllers/
‚îî‚îÄ‚îÄ GeocodeController.cs        ‚úÖ SSE + REST endpoints
    - GET /api/geocode/stream (SSE)
    - POST /api/geocode/cancel/{requestId}
```

### –°–µ—Ä–≤–∏—Å—ã
```
api/Services/RequestManagement/
‚îú‚îÄ‚îÄ IActiveRequestsManager.cs   ‚úÖ –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –º–µ–Ω–µ–¥–∂–µ—Ä–∞ –∑–∞–ø—Ä–æ—Å–æ–≤
‚îî‚îÄ‚îÄ ActiveRequestsManager.cs    ‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω—ã–º–∏ –∑–∞–ø—Ä–æ—Å–∞–º–∏

api/Services/Search/
‚îú‚îÄ‚îÄ IPythonSearchClient.cs      ‚úÖ –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å gRPC –∫–ª–∏–µ–Ω—Ç–∞
‚îî‚îÄ‚îÄ PythonSearchClient.cs       ‚úÖ gRPC –∫–ª–∏–µ–Ω—Ç —Å CancellationToken
```

### Protobuf
```
api/Protos/
‚îî‚îÄ‚îÄ geocode.proto               ‚úÖ gRPC –∫–æ–Ω—Ç—Ä–∞–∫—Ç C# ‚Üî Python
```

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
```
api/
‚îú‚îÄ‚îÄ Program.cs                  ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω (SignalR, gRPC, Controllers)
‚îú‚îÄ‚îÄ api.csproj                  ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω (–ø–∞–∫–µ—Ç—ã, Protobuf)
‚îî‚îÄ‚îÄ appsettings.json            ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω (Python URL)
```

---

## Python gRPC Service (python-search/)

```
python-search/
‚îú‚îÄ‚îÄ grpc_server.py              ‚úÖ –¢–µ—Å—Ç–æ–≤—ã–π gRPC —Å–µ—Ä–≤–µ—Ä
‚îú‚îÄ‚îÄ generate_grpc.py            ‚úÖ –°–∫—Ä–∏–ø—Ç –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∫–æ–¥–∞
‚îú‚îÄ‚îÄ geocode.proto               ‚úÖ –ö–æ–ø–∏—è Protobuf –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞
‚îú‚îÄ‚îÄ requirements.txt            ‚úÖ –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (grpcio, protobuf)
‚îú‚îÄ‚îÄ .gitignore                  ‚úÖ Python .gitignore
‚îî‚îÄ‚îÄ README.md                   ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è Python —Å–µ—Ä–≤–∏—Å–∞
```

---

## –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

```
.
‚îú‚îÄ‚îÄ REACT_CLIENT_GUIDE.md       ‚úÖ –ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –¥–ª—è React
‚îÇ   - TypeScript —Ç–∏–ø—ã
‚îÇ   - useGeocode hook —Å debouncing
‚îÇ   - SSE –∫–ª–∏–µ–Ω—Ç
‚îÇ   - –ü—Ä–∏–º–µ—Ä—ã –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
‚îÇ
‚îú‚îÄ‚îÄ INTEGRATION_GUIDE.md        ‚úÖ –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
‚îÇ   - –û–±–∑–æ—Ä –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã
‚îÇ   - –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–æ–≤
‚îÇ   - –ö–æ–Ω—Ç—Ä–∞–∫—Ç—ã (SignalR, gRPC)
‚îÇ   - –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
‚îÇ
‚îú‚îÄ‚îÄ QUICK_START.md              ‚úÖ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç
‚îÇ   - 3 —à–∞–≥–∞ –¥–ª—è –∑–∞–ø—É—Å–∫–∞
‚îÇ   - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã
‚îÇ   - –°–ø–∏—Å–æ–∫ –ø–æ—Ä—Ç–æ–≤
‚îÇ
‚îú‚îÄ‚îÄ IMPLEMENTATION_SUMMARY.md   ‚úÖ –°–≤–æ–¥–∫–∞ –ø–æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
‚îÇ   - –ß—Ç–æ —Å–æ–∑–¥–∞–Ω–æ
‚îÇ   - –ü–æ—Ç–æ–∫–∏ –¥–∞–Ω–Ω—ã—Ö
‚îÇ   - Endpoints
‚îÇ   - –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏
‚îÇ
‚îî‚îÄ‚îÄ FILES_CREATED.md            ‚úÖ –≠—Ç–æ—Ç —Ñ–∞–π–ª
```

---

## –ò—Ç–æ–≥–æ —Å–æ–∑–¥–∞–Ω–æ —Ñ–∞–π–ª–æ–≤

### C# Backend: **14 —Ñ–∞–π–ª–æ–≤**
- 5 DTO –º–æ–¥–µ–ª–µ–π
- 1 SignalR Hub
- 1 REST/SSE Controller
- 4 —Å–µ—Ä–≤–∏—Å–∞ (–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã + —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏)
- 1 .proto —Ñ–∞–π–ª
- 2 –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã—Ö –∫–æ–Ω—Ñ–∏–≥–∞ (Program.cs, api.csproj, appsettings.json)

### Python Service: **6 —Ñ–∞–π–ª–æ–≤**
- 1 gRPC —Å–µ—Ä–≤–µ—Ä
- 1 –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä –∫–æ–¥–∞
- 1 .proto —Ñ–∞–π–ª (–∫–æ–ø–∏—è)
- 3 –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–∞

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: **5 —Ñ–∞–π–ª–æ–≤**
- –ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –¥–ª—è React
- –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
- –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç
- –°–≤–æ–¥–∫–∞ –ø–æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
- –°–ø–∏—Å–æ–∫ —Ñ–∞–π–ª–æ–≤

---

## –ö–ª—é—á–µ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

‚úÖ **2 –∫–∞–Ω–∞–ª–∞ —Å–≤—è–∑–∏**: WebSocket (SignalR) + SSE
‚úÖ **Request ID tracking**
‚úÖ **–û—Ç–º–µ–Ω–∞ –∑–∞–ø—Ä–æ—Å–æ–≤** (CancellationToken)
‚úÖ **Debouncing** (300ms –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ)
‚úÖ **Progress reporting** (3 —ç—Ç–∞–ø–∞)
‚úÖ **Performance metrics** (ExecutionTimeMs)
‚úÖ **Auto-reconnect** (SignalR)
‚úÖ **Thread-safe** (ConcurrentDictionary)
‚úÖ **–ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è** —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏ –∫–æ–¥–∞

---

## –ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

1. ‚úÖ **C# API** - –ø–æ–ª–Ω–æ—Å—Ç—å—é –Ω–∞—Å—Ç—Ä–æ–µ–Ω
2. ‚úÖ **Python gRPC** - —Ç–µ—Å—Ç–æ–≤—ã–π —Å–µ—Ä–≤–∏—Å —Ä–∞–±–æ—Ç–∞–µ—Ç
3. ‚úÖ **React –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è** - –ø—Ä–∏–º–µ—Ä—ã –∫–æ–¥–∞ –≥–æ—Ç–æ–≤—ã
4. ‚úÖ **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è** - –ø–æ–¥—Ä–æ–±–Ω–∞—è –∏ —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏

–í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã –∏ –≥–æ—Ç–æ–≤—ã –∫ —Ä–∞–±–æ—Ç–µ! üöÄ
